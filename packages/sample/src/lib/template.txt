<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <style>
    @page {
      margin: 60pt 24pt 24pt;
    }
    body,
    pre,
    code {
      font-family: 'Noto Sans Mono CJK SC', monospace;
    }
    header {
      break-after: page;
      margin-top: 20em;
      text-align: center;
    }
    h3 {
      margin-top: 100pt;
    }
    pre,
    code {
      display: block;
      margin: 0;
      width: 100%;
      font-size: 12pt;
      line-height: 1.25;
      white-space: pre-wrap;
    }
    code {
      counter-increment: line;
      overflow: hidden;
    }
    code::before {
      display: inline-block;
      margin-right: 1em;
      background-color: #f5f5f5;
      padding-right: 2px;
      width: 2em;
      content: counter(line);
      text-align: right;
    }
  </style>
  <body>
    <header>
      <h1></h1>
      <h2></h2>
      <h3>源代码</h3>
    </header>
    <pre></pre>
  </body>
  <script defer>
    const { body } = document;
    window
      .mock()
      .then((result) => {
        const header = body.querySelector('header');

        header.querySelector('h1').textContent = result.title;

        header.querySelector('h2').textContent = result.version;

        document.title = [result.title, result.version].join(' ');

        const pre = body.querySelector('pre');

        for (const line of result.data.split('\n')) {
          const code = document.createElement('code');
          code.textContent = line;
          pre.append(code);
        }
      })
      .catch((error) => {
        console.error(error);
      });
  </script>
</html>
